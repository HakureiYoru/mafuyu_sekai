<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mafuyu Sekai: Neon Remake (v2.5 Dialogue)</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>

    <canvas id="gameCanvas"></canvas>

    <div id="ui-layer">
        <div class="hud-top">
            <div class="score-box" id="score-display">000000</div>
            <div class="bomb-box">
                <span style="font-size: 14px; color: #888; letter-spacing: 1px;">NUCLEAR PROTOCOL</span>
                <span id="bomb-display">BOMB x3</span>
                <div style="font-size: 12px; color: #666;">[SPACE]</div>
            </div>
        </div>

        <div id="wave-text">WAVE 1<span id="wave-sub">SYSTEM ONLINE</span></div>
        
        <div class="hud-bottom">
            <div class="stats-group">
                <div class="bar-wrapper">
                    <div class="label">HULL INTEGRITY</div>
                    <div class="bar-container">
                        <div id="hp-bar" class="bar-fill hp-fill"></div>
                    </div>
                </div>
                <div class="bar-wrapper">
                    <div class="label">WEAPON CHARGE (LVL <span id="lvl-display">1</span>)</div>
                    <div class="bar-container">
                        <div id="xp-bar" class="bar-fill xp-fill" style="width: 0%"></div>
                    </div>
                </div>
                <div class="bar-wrapper">
                    <div class="label">AMMO CORE <span id="ammo-text" class="hud-pill">300/300</span></div>
                    <div class="bar-container">
                        <div id="ammo-bar" class="bar-fill ammo-fill" style="width: 100%"></div>
                    </div>
                </div>
                <div class="bar-wrapper">
                    <div class="label">DASH LASER <span id="special-text" class="hud-pill">LOCKED</span></div>
                    <div class="bar-container" id="special-bar-container">
                        <div id="special-bar" class="bar-fill special-fill" style="width: 0%"></div>
                    </div>
                </div>
                <div class="bar-wrapper">
                    <div class="label">THERMAL LOAD <span id="heat-text" class="hud-pill">0%</span> <span id="heat-status" class="hud-pill status-pill">STABLE</span></div>
                    <div class="bar-container">
                        <div id="heat-bar" class="bar-fill heat-fill" style="width: 0%"></div>
                    </div>
                </div>
            </div>

            <div id="comms-panel">
                <div class="comms-avatar-wrap">
                    <img id="comms-avatar" src="assets/images/enemy.png" alt="Speaker">
                </div>
                <div class="comms-body">
                    <div id="comms-sender">SYSTEM</div>
                    <div id="comms-text">...</div>
                </div>
            </div>
        </div>
    </div>

    <div id="start-screen">
        <h1>MAFUYU SEKAI</h1>
        <h2>NEON OVERDRIVE v2.5</h2>
        <button id="start-btn">ENGAGE</button>
        <div class="controls">
            <div class="key-row"><span class="kbox">W</span><span class="kbox">A</span><span class="kbox">S</span><span class="kbox">D</span> <span>移动 (Move)</span></div>
            <div class="key-row"><span class="kbox">MOUSE</span> <span>瞄准和射击 (Aim & Shoot)</span></div>
            <div class="key-row"><span class="kbox">R</span> / <span class="kbox">R-CLICK</span> <span>战术冲刺 (Dash)</span></div>
            <div class="key-row"><span class="kbox highlight">SPACE</span> <span>清屏核弹 (Nuke)</span></div>
        </div>
    </div>

    <div id="game-over-screen" style="display: none;">
        <h1 style="font-size: 60px; color: #ff3333; -webkit-text-fill-color: #ff3333;">CRITICAL FAILURE</h1>
        <div id="final-score" style="font-size: 30px; margin-bottom: 20px; color: #fff;">SCORE: 0</div>
        <div id="ai-analysis" style="color: #00ccff; margin-bottom: 30px; font-family: monospace; max-width: 600px; text-align: center; min-height: 20px;"></div>
        <button id="restart-btn">REBOOT SYSTEM</button>
    </div>

    <div id="mission-complete-screen" style="display: none; flex-direction: column; justify-content: center; align-items: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 200;">
        <h1 style="font-size: 60px; color: #00ff00; -webkit-text-fill-color: #00ff00; text-shadow: 0 0 20px #00ff00;">MISSION COMPLETE</h1>
        <div style="font-size: 24px; color: #fff; margin-bottom: 40px; text-align: center; max-width: 600px;">
            <p>Target "MAFUYU" stabilized.</p>
            <p>System integrity restored.</p>
        </div>
        <div style="display: flex; gap: 20px;">
            <button id="btn-restart-complete" style="background: transparent; border: 2px solid #fff; color: #fff;">RESTART</button>
            <button id="btn-continue" style="background: #00ff00; border: 2px solid #00ff00; color: #000; font-weight: bold; box-shadow: 0 0 15px #00ff00;">CONTINUE (ENDLESS)</button>
        </div>
    </div>

<script src="js/main.js"></script>
</body>
</html>
